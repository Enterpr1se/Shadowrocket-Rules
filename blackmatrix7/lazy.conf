# 懶人配置
# 更新時間：2023-11-17
# Shadowrocket添加配置方法：配置 - 右上角➕ - 粘貼配置鏈接 - 下載 - 點擊對應的配置文件 - 使用配置。
[General]
# Shadowrocket快速使用方法：
# 1.首頁 - 添加節點。
# 2.設置 - 延遲測試方法，選擇CONNECT。
# 3.首頁 - 連通性測試，選擇可用節點連接。
# ----------
# 添加/更新訂閱鏈接時異常原因：
# "forbidden"表示訂閱被重置或令牌(token)錯誤。
# "not found"表示路徑信息錯誤。
# "service unavailable"表示域名信息錯誤或域名被運營商屏蔽。
# 如果提示「發生了SSL錯誤，無法建立與該服務器的安全連接」，可以嘗試的解決方法：
# 1.全局路由選代理，使用另外一個節點來添加/更新訂閱鏈接。
# 2.切換網絡後再添加/更新訂閱鏈接。
# 3.檢查訂閱鏈接是否錯誤或失效。
# ----------
# Shadowrocket打開HTTPS解密方法：
# 1.點擊配置文件ⓘ - HTTPS解密 - 證書 - 生成新的CA證書 - 安裝證書。
# 2.手機設置 - 已下載描述文件 - 安裝。
# 3.手機設置 - 通用 - 關於本機 - 證書信任設置 - 開啓對應Shadowrocket證書信任。
# ----------
# 旁路系統。如果禁用此選項，可能會導致一些系統問題，如推送通知延遲。
bypass-system = true
# 跳過代理。此選項強制這些域名或IP的連接範圍由Shadowrocket TUN接口來處理，而不是Shadowrocket代理服務器。此選項用於解決一些應用程序的一些兼容性問題。
skip-proxy = 192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,localhost,*.local,captive.apple.com,*.ccb.com,*.abchina.com.cn,*.psbc.com,www.baidu.com
# TUN旁路路由。Shadowrocket TUN接口只能處理TCP協議。使用此選項可以繞過指定的IP範圍，讓其他協議通過。
tun-excluded-routes = 10.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 169.254.0.0/16, 172.16.0.0/12, 192.0.0.0/24, 192.0.2.0/24, 192.88.99.0/24, 192.168.0.0/16, 198.51.100.0/24, 203.0.113.0/24, 224.0.0.0/4, 255.255.255.255/32, 239.255.255.250/32
# DNS覆寫。使用普通DNS或加密DNS（如doh、doq、dot等）覆蓋默認的系統DNS。有些dns over https支持http3，所以嘗試查詢，如果支持就切換到http3，可在doh鏈接後面加上#no-h3關閉。doh強制通過h3查詢的寫法是將「https」改成「h3」，如h3://dns.alidns.com/dns-query。
dns-server = https://doh.pub/dns-query,https://dns.alidns.com/dns-query,223.5.5.5,119.29.29.29
# 備用DNS。當覆寫DNS查詢失敗或查詢時間超過2秒，Shadowrocket會自動回退備用DNS。如需指定多個DNS，可用逗號分隔。system表示回退到系統DNS。
fallback-dns-server = system
# 啓用IPv6支持。false表示不啓用，true表示啓用。（注：即使不啓用此選項，當本地網絡環境支持IPv6，並且節點域名支持IPv6解析，Shadowrocket也會使用節點的IPv6地址進行訪問。解決方法是關閉節點域名的IPv6解析，或者在配置文件的[Host]項目下為節點域名指定IP地址。）
ipv6 = false
# 首選IPv6。優先向IPv6的DNS服務器查詢AAAA記錄，優先使用AAAA記錄。false表示不啓用。
prefer-ipv6 = false
# 直連的域名類規則使用系統dns進行查詢。false表示不啓用。
dns-direct-system = false
# ping數據包自動回復。
icmp-auto-reply = true
# 不開啓時，「重寫的REJECT策略」默認只有在配置模式下生效。開啓後，可以令該策略在其他全局路由模式下都生效。
always-reject-url-rewrite = false
# 私有IP應答。如果不啓用該選項，域名解析返回私有IP，Shadowrocket會認為該域名被劫持而強制使用代理。
private-ip-answer = true
# 直連域名解析失敗後使用代理。false表示不啓用。
dns-direct-fallback-proxy = false
# TUN包含路由。默認情況下，Shadowrocket接口會聲明自己為默認路由，但由於Wi-Fi接口的路由較小，有些流量可能不會通過Shadowrocket接口。使用此選項可以添加一個較小的路由表。
tun-included-routes = 
# 總是真實IP。這個選項要求Shadowrocket在TUN處理DNS請求時返回一個真實的IP地址而不是假的IP地址。
always-real-ip = 
# DNS劫持。有些設備或軟件總是使用硬編碼的DNS服務器，例如Netflix通過Google DNS(8.8.8.8或8.8.4.4)發送請求，您可以使用此選項來劫持查詢。
hijack-dns = 8.8.8.8:53,8.8.4.4:53
# 當UDP流量匹配到規則里不支持UDP轉發的節點策略時重新選擇回退行為，可選行為包括DIRECT、REJECT。DIRECT表示直連轉發UDP流量，REJECT表示拒絕轉發UDP流量。
udp-policy-not-supported-behaviour = REJECT
# 包含配置。如「include=a.conf」表示當前配置包含另一個配置a.conf的內容，當前配置的優先級高於a.conf。該選項是對配置建立包含關係，以滿足同時使用多個配置的需求。
include = 
# 此選項允許返回一個虛假的IP地址，如「stun-response-ip=1.1.1.1」、「stun-response-ipv6=::1」，目的是防止真實IP地址洩漏，提高WebRTC的隱私和安全性。
stun-response-ip=
stun-response-ipv6=
[Proxy]

hostname = *.google.cn,*.tiktokv.com,*.byteoversea.com,*.tik-tokapi.com
